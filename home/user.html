<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LMS Ekatunggal</title>

    <!-- Official Tailwind CDN (lebih stabil daripada paket @tailwindcss/browser yang kadang bikin bingung) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <style>
      /* sedikit polishing untuk progress */
      .progress-fill {
        transition: width 350ms ease;
      }
    </style>
  </head>
  <body class="font-[Inter] text-[#0b1220] bg-white">
    <!-- NAVBAR -->
    <nav
      class="flex items-center justify-between px-8 py-4 border-b-2 border-gray-200 mb-4 bg-white"
    >
      <div class="flex items-center font-semibold">
        <img src="../img/logo.png" alt="Logo" class="w-10 mr-2" />
        <a
          href="../home/public.html"
          class="px-4 py-1 rounded-full font-semibold text-black hover:bg-gray-100"
          >Home</a
        >
        <a
          href="../dashboard/user.html"
          class="px-4 py-1 rounded-full font-semibold text-black hover:bg-gray-100"
          >Dashboard</a
        >
        <a
          href="../course/user.html"
          class="px-4 py-1 rounded-full font-semibold text-black hover:bg-gray-100"
          >MyCourse</a
        >
        <a
          href="#"
          class="px-4 py-1 rounded-full font-semibold text-black hover:bg-gray-100"
          >Site Administrator</a
        >
      </div>
      <div class="flex items-center gap-2">
        <img
          src="../img/pp.png"
          alt="notification"
          class="w-12 h-12 rounded-lg mr-12"
        />
        <div class="text-end">
          <p class="font-bold">Nama Pengguna</p>
          <p class="text-gray-400 text-[11px]">Nama Learning Staff</p>
        </div>
        <img src="../img/pp.png" alt="Profile" class="w-12 h-12 rounded-lg" />
      </div>
    </nav>

    <main class=" mx-8 mb-12">
    <!-- HERO -->
    <section class="flex flex-col gap-6 h-70 md:flex-row">
      <div class="text-white bg-black rounded-2xl flex-3 w-2/3 p-8 my-auto">
        <h1 class="mb-3 max-w-4xl text-4xl font-bold capitalize">
          Alur proses pembelian dan pelunasan cabang
        </h1>
        <p class="mb-3 max-w-3xl text-lg">
          Memberikan pemahaman menyeluruh tentang alur kerja pembelian barang
          hingga proses pembayaran kepada supplier.
        </p>

        <!-- Progress (hero) - gunakan struktur yang konsisten -->
        <div class="flex mb-3 justify-between items-center text-sm text-gray-500 progress-wrapper">
          <div class="w-[90%] bg-gray-200 rounded h-1 relative">
            <div
              class="progress-fill bg-[#a80308] h-1 rounded absolute left-0 top-0"
              style="width: 0%;"
              role="progressbar"
              aria-valuemin="0"
              aria-valuemax="100"
              aria-valuenow="0"
            ></div>
          </div>
          <span class="progress-text pl-2">3 / 13</span>
        </div>

        <a
          href="../login/index.html"
          class="inline-block px-6 py-3 font-semibold text-white transition-colors rounded-lg bg-[#a80308] hover:bg-[#8a0206]"
        >
          Lanjutkan
        </a>
      </div>

      <div class="flex-1 flex flex-col gap-3 capitalize py-4">
        <h3 class="font-bold text-xl">Upcoming</h3>
        <div
          class="border-l-2 border-red-700 pl-2 h-12 flex flex-col justify-center"
        >
          <h6 class="font-semibold text-base">
            Prosedur penanganan komplain konsumen
          </h6>
          <p class="text-xs">12/10/2025</p>
        </div>
        <div
          class="border-l-2 border-red-700 pl-2 h-12 flex flex-col justify-center"
        >
          <h6 class="font-semibold text-base">Prosedur close sales order</h6>
          <p class="text-xs">15/10/2025</p>
        </div>
        <div
          class="border-l-2 border-red-700 pl-2 h-12 flex flex-col justify-center"
        >
          <h6 class="font-semibold text-base">
            Prosedur pengecekan kendaraan harian
          </h6>
          <p class="text-xs">17/10/2025</p>
        </div>
      </div>
    </section>

    <!-- PELATIHAN -->
    <section id="pelatihan" class="my-8">
      <div class="flex flex-col mb-4">
        <h2
          class="px-4 py-2 text-lg font-bold text-white bg-[#a80308] rounded-xl"
        >
          Pelatihan Tersedia
        </h2>
        <a
          href="../course/public.html"
          class="self-end mt-2 font-semibold text-gray-500"
          >Lihat Selengkapnya</a
        >
      </div>

      <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
        <!-- CARD 1 -->
        <div class="bg-white rounded-lg overflow-hidden shadow">
          <div
            class="flex justify-between items-center px-3 py-2 gap-2 text-sm font-semibold"
          >
            <div title="Terbuka">ðŸ”“</div>
            <span class="bg-green-600 text-white px-3 py-1 rounded-lg"
              >Selesai</span
            >
          </div>
          <img src="../img/course1.png" alt="course 1" class="w-full" />
          <div class="p-4">
            <h4 class="text-2xl font-extrabold text-center mb-3 h-16">
              ALUR PROSES PENERIMAAN PESANAN
            </h4>
            <div
              class="flex justify-between items-center text-sm text-gray-500 progress-wrapper"
            >
              <div class="w-[87%] bg-gray-200 rounded h-1 relative">
                <div
                  class="progress-fill bg-[#a80308] h-1 rounded absolute left-0 top-0"
                  style="width: 0%;"
                  role="progressbar"
                  aria-valuemin="0"
                  aria-valuemax="100"
                  aria-valuenow="0"
                ></div>
              </div>
              <span class="progress-text pl-2">14 / 14</span>
            </div>
          </div>
        </div>

        <!-- CARD 2 -->
        <div class="bg-white rounded-lg overflow-hidden shadow">
          <div
            class="flex justify-between items-center px-3 py-2 gap-2 text-sm font-semibold"
          >
            <div title="Terbuka">ðŸ”“</div>
            <span class="bg-orange-500 text-white px-3 py-1 rounded-lg"
              >Lanjutkan</span
            >
          </div>
          <img src="../img/course2.png" alt="course 2" class="w-full" />
          <div class="p-4">
            <h4 class="text-2xl font-extrabold text-center mb-3 h-16">
              PROSES PEMBUATAN DOKUMEN SALES ORDER (SO)
            </h4>
            <div
              class="flex justify-between items-center text-sm text-gray-500 progress-wrapper"
            >
              <div class="w-[87%] bg-gray-200 rounded h-1 relative">
                <div
                  class="progress-fill bg-[#a80308] h-1 rounded absolute left-0 top-0"
                  style="width: 0%;"
                  role="progressbar"
                  aria-valuemin="0"
                  aria-valuemax="100"
                  aria-valuenow="0"
                ></div>
              </div>
              <span class="progress-text pl-2">3 / 10</span>
            </div>
          </div>
        </div>

        <!-- CARD 3 -->
        <div class="bg-white rounded-lg overflow-hidden shadow">
          <div
            class="flex justify-between items-center px-3 py-2 gap-2 text-sm font-semibold"
          >
            <div title="Terkunci">ðŸ”’</div>
            <span class="bg-[#a80308] text-white px-3 py-1 rounded-lg"
              >Mulai</span
            >
          </div>
          <img src="../img/course3.png" alt="course 3" class="w-full" />
          <div class="p-4">
            <h4 class="text-2xl font-extrabold text-center mb-3 h-16">
              PERSIAPAN PENGIRIMAN BARANG
            </h4>
            <div
              class="flex justify-between items-center text-sm text-gray-500 progress-wrapper"
            >
              <div class="w-[87%] bg-gray-200 rounded h-1 relative">
                <div
                  class="progress-fill bg-[#a80308] h-1 rounded absolute left-0 top-0"
                  style="width: 0%;"
                  role="progressbar"
                  aria-valuemin="0"
                  aria-valuemax="100"
                  aria-valuenow="0"
                ></div>
              </div>
              <span class="progress-text pl-2">0 / 6</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section class="my-8">
      <h2
        class="px-4 py-2 mb-4 text-lg font-bold text-white bg-[#a80308] rounded-xl"
      >
        Frequently Asked Question
      </h2>
      <div class="bg-white rounded-lg shadow-sm">
        <!-- FAQ Item -->
        <div class="faq-item">
          <button
            class="flex items-center w-full p-4 text-left font-semibold gap-3"
          >
            <span class="toggle-icon text-[#a80308]">+</span>
            <span>Bagaimana cara login?</span>
          </button>
          <div
            class="faq-content max-h-0 overflow-hidden transition-all duration-500 ease-in-out"
          >
            <div class="text-gray-700 ml-10">
              Untuk login ke LMS Ekatunggal, klik tombol "Masuk Sekarang" di
              halaman utama.<br />
              Masukkan username dan password yang sudah diberikan oleh Admin.<br />
              Jika Anda belum memiliki akun, hubungi Admin Learning &amp;
              Development.
            </div>
          </div>
        </div>

        <div class="faq-item">
          <button
            class="flex items-center w-full p-4 text-left font-semibold gap-3"
          >
            <span class="toggle-icon text-[#a80308]">+</span>
            <span>Lupa password, harus bagaimana?</span>
          </button>
          <div
            class="faq-content max-h-0 overflow-hidden transition-all duration-500 ease-in-out"
          >
            <div class="text-gray-700 ml-10">
              Hubungi Admin Learning &amp; Development untuk reset password.
            </div>
          </div>
        </div>

        <div class="faq-item">
          <button
            class="flex items-center w-full p-4 text-left font-semibold gap-3"
          >
            <span class="toggle-icon text-[#a80308]">+</span>
            <span>Apa itu Learning Path?</span>
          </button>
          <div
            class="faq-content max-h-0 overflow-hidden transition-all duration-500 ease-in-out"
          >
            <div class="text-gray-700 ml-10">
              Learning Path adalah urutan materi belajar sesuai jalur karier
              Anda.
            </div>
          </div>
        </div>

        <div class="faq-item">
          <button
            class="flex items-center w-full p-4 text-left font-semibold gap-3"
          >
            <span class="toggle-icon text-[#a80308]">+</span>
            <span>Apa perbedaan Modul Private dan Public?</span>
          </button>
          <div
            class="faq-content max-h-0 overflow-hidden transition-all duration-500 ease-in-out"
          >
            <div class="text-gray-700 ml-10">
              Modul Private hanya dapat diakses oleh pengguna tertentu yang
              sudah login, sedangkan Modul Public dapat diakses oleh semua
              pengguna tanpa login.
            </div>
          </div>
        </div>

        <div class="faq-item">
          <button
            class="flex items-center w-full p-4 text-left font-semibold gap-3"
          >
            <span class="toggle-icon text-[#a80308]">+</span>
            <span>Bagaimana cara mendapatkan sertifikat pelatihan?</span>
          </button>
          <div
            class="faq-content max-h-0 overflow-hidden transition-all duration-500 ease-in-out"
          >
            <div class="text-gray-700 ml-10">
              Sertifikat pelatihan dapat diperoleh setelah menyelesaikan semua
              modul dalam suatu program pelatihan. Pastikan Anda telah
              menyelesaikan semua tugas dan ujian yang diperlukan.
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CONTACT -->
    <section class="my-8">
      <h2
        class="px-4 py-2 mb-4 text-lg font-bold text-white bg-[#a80308] rounded-xl"
      >
        Kontak
      </h2>
      <div class="p-6 rounded-lg bg-gray-50">
        <p class="mb-2">
          Ada pertanyaan atau kendala saat menggunakan LMS? Tim Learning &
          Development siap membantu Anda!
        </p>
        <div class="my-4">
          <p class="font-semibold">WhatsApp Support</p>
          <p>+62 857-1863-5009</p>
          <p>(L&amp;D Support - LMS Ekatunggal)</p>
        </div>
        <div class="my-4">
          <p class="font-semibold">Jam Operasional Dukungan</p>
          <p>Senin - Sabtu</p>
          <p>08.00 - 18.30 WIB</p>
        </div>
      </div>
    </section>
    </main>

    <!-- JS FAQ toggle + Progress auto-update -->
    <script>
      // FAQ toggle (tetap sama)
      document.querySelectorAll(".faq-item button").forEach((btn) => {
        btn.addEventListener("click", () => {
          const content = btn.nextElementSibling;
          const icon = btn.querySelector(".toggle-icon");

          if (content.classList.contains("max-h-0")) {
            content.classList.remove("max-h-0");
            content.classList.add("max-h-[500px]");
            icon.textContent = "âˆ’";
          } else {
            content.classList.add("max-h-0");
            content.classList.remove("max-h-[500px]");
            icon.textContent = "+";
          }
        });
      });

      /* -------- Progress auto-update logic -------- */

      function parseProgressText(text) {
        // Match "3 / 13" or "3/13" or with spaces
        const m = String(text).match(/(\d+)\s*\/\s*(\d+)/);
        if (!m) return null;
        return [parseInt(m[1], 10), parseInt(m[2], 10)];
      }

      function updateProgress(wrapper) {
        const span = wrapper.querySelector(".progress-text");
        const fill = wrapper.querySelector(".progress-fill");
        if (!span || !fill) return;

        const nums = parseProgressText(span.textContent);
        if (!nums) {
          // jika format tak sesuai, kita set 0
          fill.style.width = "0%";
          fill.setAttribute("aria-valuenow", 0);
          return;
        }

        const [cur, total] = nums;
        let pct = 0;
        if (total === 0) pct = 0;
        else pct = (cur / total) * 100;

        // batasi antara 0 - 100
        pct = Math.max(0, Math.min(100, pct));

        // Two decimal precision untuk tampilan halus
        const pctStr = Math.round(pct * 100) / 100 + "%";

        fill.style.width = pctStr;
        // accessibility attributes -> kita gunakan current absolute value (cur) dan total
        fill.setAttribute("aria-valuenow", cur);
        fill.setAttribute("aria-valuemax", total);
        fill.setAttribute("aria-valuemin", 0);
      }

      function initProgressWrappers() {
        const wrappers = document.querySelectorAll(".progress-wrapper");
        wrappers.forEach((wrapper) => {
          // initial update
          updateProgress(wrapper);

          // Observe perubahan teks di dalam .progress-text
          const span = wrapper.querySelector(".progress-text");
          if (span) {
            const mo = new MutationObserver(() => {
              updateProgress(wrapper);
            });

            mo.observe(span, { characterData: true, childList: true, subtree: true });

            // Jika angka diubah melalui input/form di JS, mungkin Anda juga ingin
            // memanggil updateProgress(wrapper) langsung setelah mengubah teks.
          }
        });
      }

      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", initProgressWrappers);
      } else {
        initProgressWrappers();
      }

      /* 
        Contoh: jika Anda ingin menguji perubahan dinamis, Anda bisa
        membuka console dan jalankan (misal pada hero):
        document.querySelector('.progress-wrapper .progress-text').textContent = '5 / 13'
        -> progress akan otomatis update karena MutationObserver
      */
    </script>
  </body>
</html>
